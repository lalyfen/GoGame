/**
 * å…¨å±€æ ·å¼ - åªåŒ…å«çœŸæ­£å…¨å±€çš„æ ·å¼
 * ç»„ä»¶ç‰¹å®šæ ·å¼å·²ç§»è‡³å„ç»„ä»¶çš„ scoped CSS
 */

/* å…¨å±€é‡ç½® */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Microsoft YaHei', Arial, sans-serif;
    background: linear-gradient(135deg, #f5f5f5 0%, #e8e8e8 100%);
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px;
    position: relative;
}

/* æ¶ˆæ¯é¢æ¿åˆ‡æ¢æŒ‰é’® - å…¨å±€æ‚¬æµ®æŒ‰é’® */
.message-panel-toggle {
    position: fixed;
    right: 20px;
    top: 20px;
    width: 50px;
    height: 50px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 1001;
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    transition: all 0.3s ease;
}

.message-panel-toggle:hover {
    transform: scale(1.1);
    box-shadow: 0 6px 20px rgba(0,0,0,0.3);
}

.message-panel-toggle::before {
    content: 'ğŸ’¬';
    font-size: 24px;
}

.message-panel-toggle.panel-hidden::before {
    content: 'ğŸ“‹';
}

/* é¡¶éƒ¨æ“ä½œæŒ‰é’®åˆ—è¡¨ï¼ˆç´§å‡‘å›¾æ ‡æ ·å¼ï¼‰ */
.message-panel-actions {
    position: fixed;
    right: 20px;
    top: 20px;
    display: flex;
    flex-direction: column;
    gap: 8px;
    z-index: 1001;
}

.message-panel-actions a { display: block; text-decoration: none; }

.message-panel-actions button {
    all: unset;
    width: 44px;
    height: 44px;
    border-radius: 50%;
    display: grid;
    place-items: center;
    color: #fff;
    cursor: pointer;
    position: relative;
    overflow: hidden;
    box-shadow: 0 6px 16px rgba(0,0,0,0.28);
    transition: transform .15s ease, box-shadow .2s ease, filter .2s ease;
    font-size: 0; /* éšè—æ–‡å­—ï¼Œä»…æ˜¾ç¤ºå›¾æ ‡ */
    border: 1px solid rgba(255,255,255,0.12);
    background: linear-gradient(135deg, #30343f 0%, #1f2430 100%);
}

.message-panel-actions button::before {
    content: 'ğŸ’¬';
    font-size: 20px;
    filter: drop-shadow(0 1px 2px rgba(0,0,0,0.35));
}

.message-panel-actions button::after {
    content: '';
    position: absolute;
    top: -120%;
    left: -120%;
    width: 240%;
    height: 240%;
    background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.18), transparent 60%);
    transform: rotate(0deg);
    transition: transform .45s ease;
}

.message-panel-actions button:hover { transform: translateY(-1px) scale(1.05); box-shadow: 0 10px 26px rgba(0,0,0,0.35); }
.message-panel-actions button:hover::after { transform: rotate(25deg); }
.message-panel-actions button:active { transform: translateY(0) scale(1.0); }
.message-panel-actions button:focus-visible { outline: 2px solid rgba(255,255,255,0.55); outline-offset: 2px; }

/* ä¸»é¢˜ä¸å›¾æ ‡æŒ‰ title åŒ¹é… */
.message-panel-actions button[title*="ç™»å‡º"] { background: linear-gradient(135deg, #ef4444 0%, #f59e0b 100%); }
.message-panel-actions button[title*="ç™»å‡º"]::before { content: 'â‹'; }
.message-panel-actions button[title*="å†å²"] { background: linear-gradient(135deg, #6366f1 0%, #7c3aed 100%); }
.message-panel-actions button[title*="å†å²"]::before { content: 'ğŸ•˜'; }
.message-panel-actions button[title*="é‚€è¯·"],
.message-panel-actions button[title*="é“¾æ¥"] { background: linear-gradient(135deg, #22d3ee 0%, #22c55e 100%); }
.message-panel-actions button[title*="é‚€è¯·"]::before,
.message-panel-actions button[title*="é“¾æ¥"]::before { content: 'ğŸ”—'; }
.message-panel-actions button[title*="æ¶ˆæ¯"] { background: linear-gradient(135deg, #f59e0b 0%, #ec4899 100%); }
.message-panel-actions button[title*="æ¶ˆæ¯"]::before { content: 'ğŸ’¬'; }

/* hover å…‰ç¯æ ¹æ®ä¸»é¢˜é¢œè‰²å¾®è°ƒ */
.message-panel-actions button[title*="ç™»å‡º"]:hover { box-shadow: 0 0 0 2px rgba(239,68,68,0.35), 0 12px 28px rgba(0,0,0,0.35); }
.message-panel-actions button[title*="å†å²"]:hover { box-shadow: 0 0 0 2px rgba(99,102,241,0.35), 0 12px 28px rgba(0,0,0,0.35); }
.message-panel-actions button[title*="é‚€è¯·"]:hover,
.message-panel-actions button[title*="é“¾æ¥"]:hover { box-shadow: 0 0 0 2px rgba(34,197,94,0.35), 0 12px 28px rgba(0,0,0,0.35); }
.message-panel-actions button[title*="æ¶ˆæ¯"]:hover { box-shadow: 0 0 0 2px rgba(245,158,11,0.35), 0 12px 28px rgba(0,0,0,0.35); }

@media (max-width: 768px) {
    .message-panel-actions { right: 12px; top: 12px; gap: 8px; }
    .message-panel-actions button { width: 40px; height: 40px; }
}

/* App root - é¡¶å±‚å®¹å™¨ */
.app-root {
    width: 100%;
    height: 100vh;
    display: flex;
    flex-direction: column;
}

/* æ¸¸æˆå®¹å™¨ - Board + InfoPanel çš„çˆ¶å®¹å™¨ */
.game-container {
    display: grid;
    grid-template-columns: minmax(0, 1fr) auto;
    gap: 20px;
    background: white;
    /* å‡å°å³ä¾§å†…è¾¹è·ï¼Œç¼©çŸ­ InfoPanel åˆ°å®¹å™¨å³è¾¹çš„è·ç¦» */
    padding: 25px 0px 25px 25px;
    border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    height: 100%;
    min-width: 0; /* ç”±å®¹å™¨çº¦æŸï¼Œä¸å†å¼ºåˆ¶æœ€å°å®½åº¦ä»¥é¿å…äº§ç”Ÿå†…éƒ¨æ»šåŠ¨ */
    overflow: hidden; /* ä¸è®© game-container è‡ªèº«å‡ºç°æ»šåŠ¨æ¡ */
}

/* æ£‹ç›˜å®¹å™¨ */
.board-container {
    position: relative;
    width: 100%;            /* å æ»¡å…¶æ …æ ¼åˆ—å®½åº¦ */
    height: auto;           /* è®©é«˜éšå®½è€Œå®š */
    max-height: 100%;       /* ä¸è¶…è¿‡ game-container çš„å¯ç”¨é«˜åº¦ */
    aspect-ratio: 1 / 1;    /* ä¿æŒæ­£æ–¹å½¢ */
    background: #DEB068;
    --board-pad: 5%;
    padding: var(--board-pad);
    border-radius: 10px;
    box-shadow: inset 0 0 10px rgba(0,0,0,0.3);
    justify-self: center;   /* åœ¨åˆ—å†…æ°´å¹³å±…ä¸­ */
    box-sizing: border-box;
}

/* å…¨å±€æ¶ˆæ¯æç¤ºï¼ˆå¦‚æœä½¿ç”¨å…¨å±€ Toastï¼‰ */
.message-container {
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 2000;
    display: flex;
    flex-direction: column;
    gap: 10px;
    pointer-events: none;
}

.message {
    background: white;
    padding: 15px 25px;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    font-size: 16px;
    min-width: 300px;
    text-align: center;
    pointer-events: auto;
    animation: slideDown 0.3s ease;
}

.message.info {
    border-left: 5px solid #2196F3;
    background: #E3F2FD;
    color: #1976D2;
}

.message.warning {
    border-left: 5px solid #FF9800;
    background: #FFF3E0;
    color: #F57C00;
}

.message.error {
    border-left: 5px solid #F44336;
    background: #FFEBEE;
    color: #C62828;
}

.message.success {
    border-left: 5px solid #4CAF50;
    background: #E8F5E9;
    color: #2E7D32;
}

@keyframes slideDown {
    from {
        transform: translateY(-100%);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

@keyframes fadeOut {
    from {
        opacity: 1;
        transform: scale(1);
    }
    to {
        opacity: 0;
        transform: scale(0.9);
    }
}

.message.fade-out {
    animation: fadeOut 0.3s ease forwards;
}
